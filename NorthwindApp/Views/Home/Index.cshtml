@model NorthwindApp.Models;

@{
    ViewBag.Title = "Home Page";
}

<script src="~/Scripts/jquery-3.4.1.js"></script>
<script src="~/Scripts/bootstrap.js"></script>
<script src="~/Scripts/DataTables/"></script>

<h2>Employees Info Page</h2>


<table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>Last Name</th>
            <th>First Name</th>
            <th>Title</th>
            <th>Address</th>
            <th>City</th>
            <th>Region</th>
            <th>Postal Code</th>
            <th>Country</th>
        </tr>
    </thead>

</table>


<div class="container" style="width:40%;margin-top:2%">

    <a href="#" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Submit Form</a>

    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <div class="modal-header">
                    <a href="#" class="close" data-dismiss="modal">&times;</a>
                    <h3 class="modal-title">Days Off Request</h3>

                </div>
                <div class="modal-body">

                    <form id="myForm">

                        @Html.TextBoxFor(model => model.Name, new { @class = "form-control", @placeholder = "Name" })

                        @Html.TextBoxFor(model => model.Address, new { @class = "form-control", @placeholder = "Address" })




                    </form>

                </div>
                <div class="modal-footer">
                    <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
                    <input type="reset" value="Submit" class="btn btn-success" id="btnSubmit" />

                </div>

            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.css">

@section scripts{
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.js"></script>
    <script src="~/Scripts/DataTables/"></script>


    <script>
        $(document).ready(function () {
            $('#example').DataTable({

                "ajax": {
                    "url": "/Home/GetEmployeeList",
                    "type": "GET",
                    "datatype": "json"
                },
                "columns": [
                    { "data": "LastName" },
                    { "data": "FirstName" },
                    { "data": "Title" },
                    { "data": "Address" },
                    { "data": "City" },
                    { "data": "Region" },
                    { "data": "PostalCode" },
                    { "data": "Country" },
                ]
                //"responsive": {
                //    "details": {
                //        "display": $.fn.dataTable.Responsive.display.modal({
                //            "header": function (row) {
                //                var data = row.data();
                //                return 'Details for ' + data[0] + ' ' + data[1];
                //            }
                //        }),
                //        "renderer": $.fn.dataTable.Responsive.renderer.tableAll()
                //    }
                //}

            });
        });


    </script>

}